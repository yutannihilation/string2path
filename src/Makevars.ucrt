# Use GNU toolchain for R >= 4.2
TOOLCHAIN = stable-gnu

# Rtools42 doesn't have the linker in the location that cargo expects, so we
# need to overwrite it via configuration.
CARGO_LINKER = x86_64-w64-mingw32.static.posix-gcc.exe

include Makevars.win

$(LIBGCC_MOCK):
	mkdir -p $@
	cd $@ && \
		touch gcc_mock.c && \
		$(CXX) -c gcc_mock.c -o gcc_mock.o && \
		$(AR) -r libgcc_eh.a gcc_mock.o && \
		cp libgcc_eh.a libgcc_s.a
